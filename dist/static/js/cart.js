"use strict";function _classCallCheck(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,t){for(var s=0;s<t.length;s++){var e=t[s];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function _createClass(n,t,s){return t&&_defineProperties(n.prototype,t),s&&_defineProperties(n,s),n}window.onload=function(){var n={uname:location.search.split("=")[1],carts:$(".cart-center"),checkAll:$("#checkAll"),totalCount:$("#totalCount"),totalPrice:$("#totalPrice"),delCartshops:$("#delCartshops"),deslectionBtn:$("#deslection")};new ShowCartshopsInfo(n)};var ShowCartshopsInfo=function(){function t(n){_classCallCheck(this,t),this.uname=n.uname,this.carts=n.carts,this.checkAll=n.checkAll,this.totalCount=n.totalCount,this.totalPrice=n.totalPrice,this.delCartshops=n.delCartshops,this.deslectionBtn=n.deslectionBtn,this.getCartshops(),this.getshops()}return _createClass(t,[{key:"getCartshops",value:function(){if(localStorage.getItem(this.uname+"shops")){var n=localStorage.getItem(this.uname+"shops"),t=JSON.parse(n);this.cartshopsInfo=t}else this.cartshopsInfo=null}},{key:"getshops",value:function(){var t=this;$.getJSON("json/tianmao.json",function(n){t.shops=n,t.showCartshopsInfo(n)})}},{key:"showCartshopsInfo",value:function(n){if(this.cartshopsInfo){for(var t="",s=0;s<n.length;s++)for(var e=0;e<this.cartshopsInfo.length;e++)n[s].bid==this.cartshopsInfo[e].bid&&(t+='\n                    <div class="item">\n                        <ul>\n                            <li><input type="checkbox" id="checkAll">&emsp;全选</li>\n                            <li>商品信息</li>\n                            <li></li>\n                            <li>单价</li>\n                            <li>数量</li>\n                            <li>金额</li>\n                            <li>操作</li>\n                        </ul>\n                    </div>\n                    <div class="item2">\n                        <input type="checkbox">&ensp;\n                        <span>天猫超市</span>\n                        店铺:&ensp;\n                        <a href="#">天猫超市</a>\n                        <div class="jinglingtu"></div>\n                    </div>\n                    <div class="goods">\n                        <div class="goods-top">\n                            <span>超值换购活动</span>&emsp;\n                            满100\n                        </div>\n                        <div class="goods-bottom">\n                            <ul>\n                                <li>\n                                    <input type="checkbox" class="checkOne">\n                                    <input class="goodBid" type="hidden" value="'.concat(this.cartshopsInfo[e].bid,'"/>\n                                </li>\n                                <li>\n                                    <div class="left"><img src="images/').concat(n[s].src,'" alt=""></div>\n                                    <div class="right">\n                                        <a href="#">').concat(n[s].describe,'</a>\n                                    </div>\n                                </li>\n                                <li>颜色分类： 纯酒红</li>\n                                <li class="goodPrice">').concat(n[s].price,'</li>\n                                <li>\n                                    <a href="#">-</a>\n                                    <input type="text" class="goodCount" value="').concat(this.cartshopsInfo[e].count,'">\n                                    <a href="#">+</a>\n\n                                </li>\n                                <li>\n                                    <em class="goodTotalPrice">').concat(Number(this.cartshopsInfo[e].count)*Number(n[s].price),'</em>\n                                    <div style="color:#444">(0.42kg)</div>\n                                </li>\n                                <li>\n                                    <a href="#">移入收藏夹</a>\n                                    <br>\n                                    <a href="#">删除</a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                        '));this.carts.html(t)}}}]),t}();